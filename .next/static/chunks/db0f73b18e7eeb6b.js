(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,4810,e=>{e.v({btnIcon:"Header-module__lnUIdW__btnIcon",btnText:"Header-module__lnUIdW__btnText",controls:"Header-module__lnUIdW__controls",header:"Header-module__lnUIdW__header",inviteBtn:"Header-module__lnUIdW__inviteBtn",title:"Header-module__lnUIdW__title"})},91157,e=>{e.v({closeBtn:"InviteModal-module__ectEUG__closeBtn",copyBtn:"InviteModal-module__ectEUG__copyBtn",inputLink:"InviteModal-module__ectEUG__inputLink",linkContainer:"InviteModal-module__ectEUG__linkContainer",modalContent:"InviteModal-module__ectEUG__modalContent",modalDesc:"InviteModal-module__ectEUG__modalDesc",modalOverlay:"InviteModal-module__ectEUG__modalOverlay",modalTitle:"InviteModal-module__ectEUG__modalTitle",waBtn:"InviteModal-module__ectEUG__waBtn"})},3374,e=>{"use strict";var r=e.i(43476),a=e.i(71645),t=e.i(18566),o=e.i(4810),i=e.i(91157);function n({workspaceId:e,isOpen:t,onClose:o}){let[n,l]=(0,a.useState)(""),[d,s]=(0,a.useState)(!1);return((0,a.useEffect)(()=>{l(`${window.location.origin}/invite/${e}`)},[e]),t)?(0,r.jsx)("div",{className:i.default.modalOverlay,onClick:o,children:(0,r.jsxs)("div",{className:i.default.modalContent,onClick:e=>e.stopPropagation(),children:[(0,r.jsx)("button",{className:i.default.closeBtn,onClick:o,children:"Ã—"}),(0,r.jsx)("h3",{className:i.default.modalTitle,children:"Invitar al Workspace"}),(0,r.jsx)("p",{className:i.default.modalDesc,children:"Comparte el enlace a continuaciÃ³n. Si tu compaÃ±ero no tiene cuenta, se le pedirÃ¡ registrarse antes de unirse al proyecto automÃ¡ticamente."}),(0,r.jsxs)("div",{className:i.default.linkContainer,children:[(0,r.jsx)("input",{type:"text",readOnly:!0,value:n,className:i.default.inputLink}),(0,r.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(n),s(!0),setTimeout(()=>s(!1),2e3)},className:i.default.copyBtn,children:d?"Â¡Copiado!":"Copiar"})]}),(0,r.jsx)("button",{onClick:()=>{let e=encodeURIComponent(`\xa1Hola! Te invito a colaborar en este proyecto. Haz clic aqu\xed para unirte: ${n}`);window.open(`https://wa.me/?text=${e}`,"_blank")},className:i.default.waBtn,children:"Enviar por WhatsApp"})]})}):null}var l=e.i(65150);function d({title:e}){let i=(0,t.useParams)().id,[d,s]=(0,a.useState)(!1),{theme:c,toggleTheme:u}=(0,l.useTheme)();return(0,r.jsxs)("header",{className:o.default.header,children:[(0,r.jsx)("div",{className:o.default.titleContainer,children:(0,r.jsx)("h1",{className:o.default.title,children:e})}),(0,r.jsxs)("div",{className:o.default.controls,children:[i&&(0,r.jsxs)("button",{className:o.default.inviteBtn,onClick:()=>s(!0),title:"Invitar miembro",children:["ðŸ‘¤ ",(0,r.jsx)("span",{className:o.default.btnText,children:"Invitar"})]}),(0,r.jsx)("button",{className:o.default.btnIcon,children:"Integraciones"}),(0,r.jsx)("button",{className:o.default.btnIcon,children:"Automatiza / 2"}),(0,r.jsx)("button",{className:o.default.btnIcon,onClick:u,title:"Cambiar Tema",style:{fontSize:"1.2rem",padding:"0 0.5rem"},children:"light"===c?"ðŸŒ™":"â˜€ï¸"})]}),i&&(0,r.jsx)(n,{workspaceId:i,isOpen:d,onClose:()=>s(!1)})]})}e.s(["default",()=>d],3374)},24360,e=>{"use strict";var r=e.i(43476),a=e.i(71645),t=e.i(95187);let o=(0,t.createServerReference)("7004c57e3771e3957e4d2263febfea3bf1a9290f75",t.callServer,void 0,t.findSourceMapURL,"createRoutine"),i=(0,t.createServerReference)("60205a99909b91ce00704033f37922d34d3c524e81",t.callServer,void 0,t.findSourceMapURL,"resolveRoutineWithEvidence"),n=(0,t.createServerReference)("40b1126e496512e6498de31856109ea07fa341f520",t.callServer,void 0,t.findSourceMapURL,"deleteRoutine");function l({initialRoutines:e}){let[t,l]=(0,a.useState)(e),[d,s]=(0,a.useState)(""),[c,u]=(0,a.useState)(""),[m,p]=(0,a.useState)(30),[v,x]=(0,a.useState)(!1),[b,h]=(0,a.useState)(null),[g,f]=(0,a.useState)(""),y=async()=>{if(!d.trim())return;x(!0);let e=c?new Date(c):void 0,r=await o(d,m,e);r.success&&r.data?(l([r.data,...t]),s(""),u("")):alert("Error: "+r.error),x(!1)},j=async()=>{if(!b||!g.trim())return void alert("Evidencia es obligatoria.");x(!0);let e=await i(b,g);e.success&&e.data?(l(t.map(r=>r.id===b?e.data:r)),h(null),f("")):alert("Error: "+e.error),x(!1)},_=async e=>{if(!window.confirm("Â¿Eliminar esta rutina persistentemente?"))return;x(!0);let r=await n(e);r.success?l(t.filter(r=>r.id!==e)):alert("Error: "+r.error),x(!1)};return(0,r.jsxs)("div",{style:{marginBottom:"2rem",backgroundColor:"var(--surface)",padding:"1.5rem",borderRadius:"var(--radius-md)"},children:[(0,r.jsx)("h2",{style:{fontSize:"1.25rem",marginBottom:"1rem",color:"var(--danger)",display:"flex",alignItems:"center",gap:"0.5rem"},children:"â° Alarmas Cotidianas (Nagging Tasks)"}),(0,r.jsxs)("p",{style:{fontSize:"0.85rem",color:"var(--text-muted)",marginBottom:"1rem"},children:["Estas tareas te enviarÃ¡n notificaciones Push ",(0,r.jsx)("b",{children:"cada ciertos minutos"})," de forma insistente hasta que subas la evidencia."]}),(0,r.jsxs)("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"1.5rem",flexWrap:"wrap"},children:[(0,r.jsx)("input",{type:"text",placeholder:"Ej. Enviar Balance a Contabilidad",value:d,onChange:e=>s(e.target.value),style:{flex:1,minWidth:"200px",padding:"0.5rem",borderRadius:"var(--radius-sm)",border:"1px solid var(--border-color)",backgroundColor:"var(--background)",color:"var(--text)"}}),(0,r.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"2px"},children:[(0,r.jsx)("span",{style:{fontSize:"0.65rem",color:"gray"},children:"Primer aviso (Opcional):"}),(0,r.jsx)("input",{type:"datetime-local",value:c,onChange:e=>u(e.target.value),style:{padding:"0.5rem",borderRadius:"var(--radius-sm)",border:"1px solid var(--border-color)",backgroundColor:"var(--background)",color:"var(--text)"}})]}),(0,r.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"2px"},children:[(0,r.jsx)("span",{style:{fontSize:"0.65rem",color:"gray"},children:"Frecuencia:"}),(0,r.jsxs)("select",{value:m,onChange:e=>p(Number(e.target.value)),style:{padding:"0.5rem",borderRadius:"var(--radius-sm)",border:"1px solid var(--border-color)",backgroundColor:"var(--background)",color:"var(--text)"},children:[(0,r.jsx)("option",{value:15,children:"Insistir c/ 15 min"}),(0,r.jsx)("option",{value:30,children:"Insistir c/ 30 min"}),(0,r.jsx)("option",{value:60,children:"Insistir c/ 1 hora"}),(0,r.jsx)("option",{value:120,children:"Insistir c/ 2 horas"})]})]}),(0,r.jsx)("button",{onClick:y,disabled:v||!d.trim(),style:{padding:"0.5rem 1rem",alignSelf:"flex-end",borderRadius:"var(--radius-sm)",backgroundColor:"var(--primary)",color:"white",border:"none",cursor:"pointer",opacity:v?.7:1},children:v?"Creando...":"AÃ±adir Alarma"})]}),(0,r.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[t.map(e=>(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"1rem",border:"1px solid var(--border-color)",borderRadius:"var(--radius-sm)",backgroundColor:e.isCompleted?"var(--background)":"var(--surface)"},children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{style:{textDecoration:e.isCompleted?"line-through":"none",fontWeight:"bold"},children:e.title}),(0,r.jsx)("div",{style:{fontSize:"0.75rem",color:"var(--text-muted)",marginTop:"0.25rem"},children:e.isCompleted?(0,r.jsxs)("span",{style:{color:"var(--status-ready)"},children:["âœ… Evidencia: ",e.evidence]}):(0,r.jsxs)("span",{style:{color:"var(--danger)"},children:["ðŸš¨ PrÃ³ximo aviso: ",new Date(e.nextPingAt).toLocaleString()," (c/ ",e.intervalMinutes,"m)"]})})]}),(0,r.jsxs)("div",{style:{display:"flex",gap:"0.5rem"},children:[!e.isCompleted&&(0,r.jsx)("button",{onClick:()=>h(e.id),style:{padding:"0.4rem 0.8rem",backgroundColor:"var(--status-ready)",color:"#000",border:"none",borderRadius:"4px",cursor:"pointer",fontWeight:"bold",fontSize:"0.8rem"},children:"Subir Evidencia"}),(0,r.jsx)("button",{onClick:()=>_(e.id),style:{padding:"0.4rem 0.8rem",color:"gray",border:"1px solid var(--border-color)",background:"transparent",borderRadius:"4px",cursor:"pointer",fontSize:"0.8rem"},children:"ðŸ—‘ï¸"})]})]},e.id)),0===t.length&&(0,r.jsx)("p",{style:{color:"var(--text-muted)",fontSize:"0.85rem"},children:"No hay alarmas activas."})]}),b&&(0,r.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999},children:(0,r.jsxs)("div",{style:{backgroundColor:"var(--surface)",padding:"2rem",borderRadius:"var(--radius-md)",width:"400px",maxWidth:"90%"},children:[(0,r.jsx)("h3",{style:{marginBottom:"1rem"},children:"Sube tu Evidencia Obligatoria"}),(0,r.jsx)("p",{style:{fontSize:"0.85rem",color:"var(--text-muted)",marginBottom:"1rem"},children:"Pega aquÃ­ el enlace de Drive, OneDrive, foto o texto confirmando que la tarea realmente se hizo."}),(0,r.jsx)("textarea",{value:g,onChange:e=>f(e.target.value),placeholder:"Ej: https://docs.google.com/... o 'Ya lo mandÃ© por correo'",style:{width:"100%",height:"80px",padding:"0.5rem",marginBottom:"1rem",backgroundColor:"var(--background)",color:"var(--text)",border:"1px solid var(--border-color)",borderRadius:"4px"}}),(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",gap:"0.5rem"},children:[(0,r.jsx)("button",{onClick:()=>h(null),style:{padding:"0.5rem 1rem",background:"transparent",color:"var(--text)",border:"1px solid var(--border-color)",borderRadius:"4px",cursor:"pointer"},children:"Cancelar"}),(0,r.jsx)("button",{onClick:j,disabled:v||!g.trim(),style:{padding:"0.5rem 1rem",backgroundColor:"var(--primary)",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",opacity:!g.trim()||v?.5:1},children:v?"Guardando...":"Confirmar & Silenciar"})]})]})})]})}e.s(["default",()=>l],24360)}]);