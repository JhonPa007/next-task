{"version":3,"sources":["turbopack:///[project]/src/components/layout/Header.module.css [app-ssr] (css module)","turbopack:///[project]/src/components/workspace/InviteModal.module.css [app-ssr] (css module)","../../../../src/components/layout/Header.tsx","../../../../src/app/actions/data%3Af5d43e%20%3Ctext/javascript%3E","../../../../src/components/workspace/InviteModal.tsx"],"sourcesContent":["__turbopack_context__.v({\n  \"btnIcon\": \"Header-module__lnUIdW__btnIcon\",\n  \"btnText\": \"Header-module__lnUIdW__btnText\",\n  \"controls\": \"Header-module__lnUIdW__controls\",\n  \"header\": \"Header-module__lnUIdW__header\",\n  \"inviteBtn\": \"Header-module__lnUIdW__inviteBtn\",\n  \"title\": \"Header-module__lnUIdW__title\",\n});\n","__turbopack_context__.v({\n  \"closeBtn\": \"InviteModal-module__ectEUG__closeBtn\",\n  \"errorMsg\": \"InviteModal-module__ectEUG__errorMsg\",\n  \"form\": \"InviteModal-module__ectEUG__form\",\n  \"input\": \"InviteModal-module__ectEUG__input\",\n  \"message\": \"InviteModal-module__ectEUG__message\",\n  \"modalContent\": \"InviteModal-module__ectEUG__modalContent\",\n  \"modalDesc\": \"InviteModal-module__ectEUG__modalDesc\",\n  \"modalOverlay\": \"InviteModal-module__ectEUG__modalOverlay\",\n  \"modalTitle\": \"InviteModal-module__ectEUG__modalTitle\",\n  \"submitBtn\": \"InviteModal-module__ectEUG__submitBtn\",\n  \"successMsg\": \"InviteModal-module__ectEUG__successMsg\",\n});\n","'use client';\r\n\r\nimport React, { useState } from 'react';\r\nimport { useParams } from 'next/navigation';\r\nimport styles from './Header.module.css';\r\nimport InviteModal from '../workspace/InviteModal';\r\nimport { useTheme } from '@/components/theme/ThemeProvider';\r\n\r\ninterface HeaderProps {\r\n    title: string;\r\n}\r\n\r\nexport default function Header({ title }: HeaderProps) {\r\n    const params = useParams();\r\n    const workspaceId = params.id as string;\r\n    const [isInviteOpen, setIsInviteOpen] = useState(false);\r\n    const { theme, toggleTheme } = useTheme();\r\n\r\n    return (\r\n        <header className={styles.header}>\r\n            <div className={styles.titleContainer}>\r\n                <h1 className={styles.title}>{title}</h1>\r\n            </div>\r\n            <div className={styles.controls}>\r\n                {workspaceId && (\r\n                    <button\r\n                        className={styles.inviteBtn}\r\n                        onClick={() => setIsInviteOpen(true)}\r\n                        title=\"Invitar miembro\"\r\n                    >\r\n                        üë§ <span className={styles.btnText}>Invitar</span>\r\n                    </button>\r\n                )}\r\n                <button className={styles.btnIcon}>Integraciones</button>\r\n                <button className={styles.btnIcon}>Automatiza / 2</button>\r\n                <button\r\n                    className={styles.btnIcon}\r\n                    onClick={toggleTheme}\r\n                    title=\"Cambiar Tema\"\r\n                    style={{ fontSize: '1.2rem', padding: '0 0.5rem' }}\r\n                >\r\n                    {theme === 'light' ? 'üåô' : '‚òÄÔ∏è'}\r\n                </button>\r\n            </div>\r\n\r\n            {/* Invite Modal */}\r\n            {workspaceId && (\r\n                <InviteModal\r\n                    workspaceId={workspaceId}\r\n                    isOpen={isInviteOpen}\r\n                    onClose={() => setIsInviteOpen(false)}\r\n                />\r\n            )}\r\n        </header>\r\n    );\r\n}\r\n","/* __next_internal_action_entry_do_not_use__ [{\"6096ab7f90edfbad42d79925c9b912f741ade35bd0\":\"inviteUserToWorkspace\"},\"src/app/actions/workspace.ts\",\"\"] */\"use turbopack no side effects\";import{createServerReference,callServer,findSourceMapURL}from\"private-next-rsc-action-client-wrapper\";const $$RSC_SERVER_ACTION_5=/*#__PURE__*/createServerReference(\"6096ab7f90edfbad42d79925c9b912f741ade35bd0\",callServer,void 0,findSourceMapURL,\"inviteUserToWorkspace\");export{$$RSC_SERVER_ACTION_5 as inviteUserToWorkspace};","'use client';\r\n\r\nimport React, { useState, useTransition } from 'react';\r\nimport { inviteUserToWorkspace } from '@/app/actions/workspace';\r\nimport styles from './InviteModal.module.css';\r\n\r\ninterface InviteModalProps {\r\n    workspaceId: string;\r\n    isOpen: boolean;\r\n    onClose: () => void;\r\n}\r\n\r\nexport default function InviteModal({ workspaceId, isOpen, onClose }: InviteModalProps) {\r\n    const [email, setEmail] = useState('');\r\n    const [message, setMessage] = useState<{ type: 'success' | 'error', text: string } | null>(null);\r\n    const [isPending, startTransition] = useTransition();\r\n\r\n    if (!isOpen) return null;\r\n\r\n    const handleSubmit = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        setMessage(null);\r\n\r\n        if (!email.trim() || !email.includes('@')) {\r\n            setMessage({ type: 'error', text: 'Por favor, introduce un correo electr√≥nico v√°lido.' });\r\n            return;\r\n        }\r\n\r\n        startTransition(async () => {\r\n            const result = await inviteUserToWorkspace(workspaceId, email);\r\n            if (result.error) {\r\n                setMessage({ type: 'error', text: result.error });\r\n            } else {\r\n                setMessage({ type: 'success', text: result.message || 'Miembro a√±adido.' });\r\n                setEmail(''); // reset\r\n                // Cierra el modal autom√°ticamente despu√©s de un segundo si hay √©xito\r\n                setTimeout(() => {\r\n                    onClose();\r\n                    setMessage(null);\r\n                }, 1500);\r\n            }\r\n        });\r\n    };\r\n\r\n    return (\r\n        <div className={styles.modalOverlay} onClick={onClose}>\r\n            <div className={styles.modalContent} onClick={(e) => e.stopPropagation()}>\r\n                <button className={styles.closeBtn} onClick={onClose}>√ó</button>\r\n                <h3 className={styles.modalTitle}>Invitar al Workspace</h3>\r\n                <p className={styles.modalDesc}>\r\n                    Escribe el correo electr√≥nico de tu colaborador. Si no tiene cuenta, le crearemos una temporal para que puedas asignarle tareas inmediatamente.\r\n                </p>\r\n\r\n                <form onSubmit={handleSubmit} className={styles.form}>\r\n                    <input\r\n                        type=\"email\"\r\n                        placeholder=\"ejemplo@equipo.com\"\r\n                        value={email}\r\n                        onChange={(e) => setEmail(e.target.value)}\r\n                        className={styles.input}\r\n                        disabled={isPending}\r\n                        autoFocus\r\n                    />\r\n                    {message && (\r\n                        <div className={`${styles.message} ${message.type === 'error' ? styles.errorMsg : styles.successMsg}`}>\r\n                            {message.text}\r\n                        </div>\r\n                    )}\r\n                    <button type=\"submit\" className={styles.submitBtn} disabled={isPending}>\r\n                        {isPending ? 'Enviando...' : 'A√±adir Miembro'}\r\n                    </button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}