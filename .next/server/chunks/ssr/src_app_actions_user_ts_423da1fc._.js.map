{"version":3,"sources":["../../../../src/app/actions/user.ts"],"sourcesContent":["'use server';\r\n\r\nimport { prisma } from '@/lib/prisma';\r\n\r\n// Mock Auth: Returns the first user in the database or creates one if none exists.\r\nexport async function getCurrentUser() {\r\n    try {\r\n        let user = await prisma.user.findFirst();\r\n\r\n        if (!user) {\r\n            user = await prisma.user.create({\r\n                data: {\r\n                    email: 'admin@nexttask.com',\r\n                    name: 'Admin User'\r\n                }\r\n            });\r\n        }\r\n\r\n        return user;\r\n    } catch (error) {\r\n        console.error('Error fetching current user:', error);\r\n        return null; // En caso de fallo cr√≠tico de base de datos\r\n    }\r\n}\r\n"],"names":[],"mappings":"wDAEA,EAAA,EAAA,CAAA,CAAA,OAGO,eAAe,IAClB,GAAI,CACA,IAAI,EAAO,MAAM,EAAA,MAAM,CAAC,IAAI,CAAC,SAAS,GAWtC,OATI,AAAC,IACD,EADO,AACA,MAAM,EAAA,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAC5B,KAAM,CACF,MAAO,qBACP,KAAM,YACV,CACJ,EAAA,EAGG,CACX,CAAE,MAAO,EAAO,CAEZ,OADA,QAAQ,KAAK,CAAC,+BAAgC,GACvC,IACX,CACJ,CAFqB,yCAhBC,GAgB2C,CAhB3C,CAAA,EAAA,EAAA,uBAAA,EAAA,EAAA,6CAAA"}