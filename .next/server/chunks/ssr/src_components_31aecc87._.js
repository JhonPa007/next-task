module.exports=[36006,a=>{a.v({btnIcon:"Header-module__lnUIdW__btnIcon",btnText:"Header-module__lnUIdW__btnText",controls:"Header-module__lnUIdW__controls",header:"Header-module__lnUIdW__header",inviteBtn:"Header-module__lnUIdW__inviteBtn",title:"Header-module__lnUIdW__title"})},71626,a=>{a.v({closeBtn:"InviteModal-module__ectEUG__closeBtn",copyBtn:"InviteModal-module__ectEUG__copyBtn",inputLink:"InviteModal-module__ectEUG__inputLink",linkContainer:"InviteModal-module__ectEUG__linkContainer",modalContent:"InviteModal-module__ectEUG__modalContent",modalDesc:"InviteModal-module__ectEUG__modalDesc",modalOverlay:"InviteModal-module__ectEUG__modalOverlay",modalTitle:"InviteModal-module__ectEUG__modalTitle",waBtn:"InviteModal-module__ectEUG__waBtn"})},43218,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(36006),f=a.i(71626);function g({workspaceId:a,isOpen:d,onClose:e}){let[g,h]=(0,c.useState)(""),[i,j]=(0,c.useState)(!1);return((0,c.useEffect)(()=>{},[a]),d)?(0,b.jsx)("div",{className:f.default.modalOverlay,onClick:e,children:(0,b.jsxs)("div",{className:f.default.modalContent,onClick:a=>a.stopPropagation(),children:[(0,b.jsx)("button",{className:f.default.closeBtn,onClick:e,children:"Ã—"}),(0,b.jsx)("h3",{className:f.default.modalTitle,children:"Invitar al Workspace"}),(0,b.jsx)("p",{className:f.default.modalDesc,children:"Comparte el enlace a continuaciÃ³n. Si tu compaÃ±ero no tiene cuenta, se le pedirÃ¡ registrarse antes de unirse al proyecto automÃ¡ticamente."}),(0,b.jsxs)("div",{className:f.default.linkContainer,children:[(0,b.jsx)("input",{type:"text",readOnly:!0,value:g,className:f.default.inputLink}),(0,b.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(g),j(!0),setTimeout(()=>j(!1),2e3)},className:f.default.copyBtn,children:i?"Â¡Copiado!":"Copiar"})]}),(0,b.jsx)("button",{onClick:()=>{let a=encodeURIComponent(`\xa1Hola! Te invito a colaborar en este proyecto. Haz clic aqu\xed para unirte: ${g}`);window.open(`https://wa.me/?text=${a}`,"_blank")},className:f.default.waBtn,children:"Enviar por WhatsApp"})]})}):null}var h=a.i(38797);function i({title:a}){let f=(0,d.useParams)().id,[i,j]=(0,c.useState)(!1),{theme:k,toggleTheme:l}=(0,h.useTheme)();return(0,b.jsxs)("header",{className:e.default.header,children:[(0,b.jsx)("div",{className:e.default.titleContainer,children:(0,b.jsx)("h1",{className:e.default.title,children:a})}),(0,b.jsxs)("div",{className:e.default.controls,children:[f&&(0,b.jsxs)("button",{className:e.default.inviteBtn,onClick:()=>j(!0),title:"Invitar miembro",children:["ðŸ‘¤ ",(0,b.jsx)("span",{className:e.default.btnText,children:"Invitar"})]}),(0,b.jsx)("button",{className:e.default.btnIcon,children:"Integraciones"}),(0,b.jsx)("button",{className:e.default.btnIcon,children:"Automatiza / 2"}),(0,b.jsx)("button",{className:e.default.btnIcon,onClick:l,title:"Cambiar Tema",style:{fontSize:"1.2rem",padding:"0 0.5rem"},children:"light"===k?"ðŸŒ™":"â˜€ï¸"})]}),f&&(0,b.jsx)(g,{workspaceId:f,isOpen:i,onClose:()=>j(!1)})]})}a.s(["default",()=>i],43218)},37572,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(5050);let e=(0,d.createServerReference)("7004c57e3771e3957e4d2263febfea3bf1a9290f75",d.callServer,void 0,d.findSourceMapURL,"createRoutine"),f=(0,d.createServerReference)("60205a99909b91ce00704033f37922d34d3c524e81",d.callServer,void 0,d.findSourceMapURL,"resolveRoutineWithEvidence"),g=(0,d.createServerReference)("40b1126e496512e6498de31856109ea07fa341f520",d.callServer,void 0,d.findSourceMapURL,"deleteRoutine");function h({initialRoutines:a}){let[d,h]=(0,c.useState)(a),[i,j]=(0,c.useState)(""),[k,l]=(0,c.useState)(""),[m,n]=(0,c.useState)(30),[o,p]=(0,c.useState)(!1),[q,r]=(0,c.useState)(null),[s,t]=(0,c.useState)(""),u=async()=>{if(!i.trim())return;p(!0);let a=k?new Date(k):void 0,b=await e(i,m,a);b.success&&b.data?(h([b.data,...d]),j(""),l("")):alert("Error: "+b.error),p(!1)},v=async()=>{if(!q||!s.trim())return void alert("Evidencia es obligatoria.");p(!0);let a=await f(q,s);a.success&&a.data?(h(d.map(b=>b.id===q?a.data:b)),r(null),t("")):alert("Error: "+a.error),p(!1)},w=async a=>{if(!window.confirm("Â¿Eliminar esta rutina persistentemente?"))return;p(!0);let b=await g(a);b.success?h(d.filter(b=>b.id!==a)):alert("Error: "+b.error),p(!1)};return(0,b.jsxs)("div",{style:{marginBottom:"2rem",backgroundColor:"var(--surface)",padding:"1.5rem",borderRadius:"var(--radius-md)"},children:[(0,b.jsx)("h2",{style:{fontSize:"1.25rem",marginBottom:"1rem",color:"var(--danger)",display:"flex",alignItems:"center",gap:"0.5rem"},children:"â° Alarmas Cotidianas (Nagging Tasks)"}),(0,b.jsxs)("p",{style:{fontSize:"0.85rem",color:"var(--text-muted)",marginBottom:"1rem"},children:["Estas tareas te enviarÃ¡n notificaciones Push ",(0,b.jsx)("b",{children:"cada ciertos minutos"})," de forma insistente hasta que subas la evidencia."]}),(0,b.jsxs)("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"1.5rem",flexWrap:"wrap"},children:[(0,b.jsx)("input",{type:"text",placeholder:"Ej. Enviar Balance a Contabilidad",value:i,onChange:a=>j(a.target.value),style:{flex:1,minWidth:"200px",padding:"0.5rem",borderRadius:"var(--radius-sm)",border:"1px solid var(--border-color)",backgroundColor:"var(--background)",color:"var(--text)"}}),(0,b.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"2px"},children:[(0,b.jsx)("span",{style:{fontSize:"0.65rem",color:"gray"},children:"Primer aviso (Opcional):"}),(0,b.jsx)("input",{type:"datetime-local",value:k,onChange:a=>l(a.target.value),style:{padding:"0.5rem",borderRadius:"var(--radius-sm)",border:"1px solid var(--border-color)",backgroundColor:"var(--background)",color:"var(--text)"}})]}),(0,b.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"2px"},children:[(0,b.jsx)("span",{style:{fontSize:"0.65rem",color:"gray"},children:"Frecuencia:"}),(0,b.jsxs)("select",{value:m,onChange:a=>n(Number(a.target.value)),style:{padding:"0.5rem",borderRadius:"var(--radius-sm)",border:"1px solid var(--border-color)",backgroundColor:"var(--background)",color:"var(--text)"},children:[(0,b.jsx)("option",{value:15,children:"Insistir c/ 15 min"}),(0,b.jsx)("option",{value:30,children:"Insistir c/ 30 min"}),(0,b.jsx)("option",{value:60,children:"Insistir c/ 1 hora"}),(0,b.jsx)("option",{value:120,children:"Insistir c/ 2 horas"})]})]}),(0,b.jsx)("button",{onClick:u,disabled:o||!i.trim(),style:{padding:"0.5rem 1rem",alignSelf:"flex-end",borderRadius:"var(--radius-sm)",backgroundColor:"var(--primary)",color:"white",border:"none",cursor:"pointer",opacity:o?.7:1},children:o?"Creando...":"AÃ±adir Alarma"})]}),(0,b.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[d.map(a=>(0,b.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"1rem",border:"1px solid var(--border-color)",borderRadius:"var(--radius-sm)",backgroundColor:a.isCompleted?"var(--background)":"var(--surface)"},children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{style:{textDecoration:a.isCompleted?"line-through":"none",fontWeight:"bold"},children:a.title}),(0,b.jsx)("div",{style:{fontSize:"0.75rem",color:"var(--text-muted)",marginTop:"0.25rem"},children:a.isCompleted?(0,b.jsxs)("span",{style:{color:"var(--status-ready)"},children:["âœ… Evidencia: ",a.evidence]}):(0,b.jsxs)("span",{style:{color:"var(--danger)"},children:["ðŸš¨ PrÃ³ximo aviso: ",new Date(a.nextPingAt).toLocaleString()," (c/ ",a.intervalMinutes,"m)"]})})]}),(0,b.jsxs)("div",{style:{display:"flex",gap:"0.5rem"},children:[!a.isCompleted&&(0,b.jsx)("button",{onClick:()=>r(a.id),style:{padding:"0.4rem 0.8rem",backgroundColor:"var(--status-ready)",color:"#000",border:"none",borderRadius:"4px",cursor:"pointer",fontWeight:"bold",fontSize:"0.8rem"},children:"Subir Evidencia"}),(0,b.jsx)("button",{onClick:()=>w(a.id),style:{padding:"0.4rem 0.8rem",color:"gray",border:"1px solid var(--border-color)",background:"transparent",borderRadius:"4px",cursor:"pointer",fontSize:"0.8rem"},children:"ðŸ—‘ï¸"})]})]},a.id)),0===d.length&&(0,b.jsx)("p",{style:{color:"var(--text-muted)",fontSize:"0.85rem"},children:"No hay alarmas activas."})]}),q&&(0,b.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999},children:(0,b.jsxs)("div",{style:{backgroundColor:"var(--surface)",padding:"2rem",borderRadius:"var(--radius-md)",width:"400px",maxWidth:"90%"},children:[(0,b.jsx)("h3",{style:{marginBottom:"1rem"},children:"Sube tu Evidencia Obligatoria"}),(0,b.jsx)("p",{style:{fontSize:"0.85rem",color:"var(--text-muted)",marginBottom:"1rem"},children:"Pega aquÃ­ el enlace de Drive, OneDrive, foto o texto confirmando que la tarea realmente se hizo."}),(0,b.jsx)("textarea",{value:s,onChange:a=>t(a.target.value),placeholder:"Ej: https://docs.google.com/... o 'Ya lo mandÃ© por correo'",style:{width:"100%",height:"80px",padding:"0.5rem",marginBottom:"1rem",backgroundColor:"var(--background)",color:"var(--text)",border:"1px solid var(--border-color)",borderRadius:"4px"}}),(0,b.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",gap:"0.5rem"},children:[(0,b.jsx)("button",{onClick:()=>r(null),style:{padding:"0.5rem 1rem",background:"transparent",color:"var(--text)",border:"1px solid var(--border-color)",borderRadius:"4px",cursor:"pointer"},children:"Cancelar"}),(0,b.jsx)("button",{onClick:v,disabled:o||!s.trim(),style:{padding:"0.5rem 1rem",backgroundColor:"var(--primary)",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",opacity:!s.trim()||o?.5:1},children:o?"Guardando...":"Confirmar & Silenciar"})]})]})})]})}a.s(["default",()=>h],37572)}];

//# sourceMappingURL=src_components_31aecc87._.js.map