module.exports=[49719,(a,b,c)=>{b.exports=a.x("assert",()=>require("assert"))},70722,(a,b,c)=>{b.exports=a.x("tty",()=>require("tty"))},874,(a,b,c)=>{b.exports=a.x("buffer",()=>require("buffer"))},88947,(a,b,c)=>{b.exports=a.x("stream",()=>require("stream"))},54799,(a,b,c)=>{b.exports=a.x("crypto",()=>require("crypto"))},92509,(a,b,c)=>{b.exports=a.x("url",()=>require("url"))},4446,(a,b,c)=>{b.exports=a.x("net",()=>require("net"))},55004,(a,b,c)=>{b.exports=a.x("tls",()=>require("tls"))},46786,(a,b,c)=>{b.exports=a.x("os",()=>require("os"))},21517,(a,b,c)=>{b.exports=a.x("http",()=>require("http"))},24836,(a,b,c)=>{b.exports=a.x("https",()=>require("https"))},25041,a=>{"use strict";var b=a.i(37936),c=a.i(66518);async function d(){try{let a=await c.prisma.user.findFirst();return a||(a=await c.prisma.user.create({data:{email:"admin@nexttask.com",name:"Admin User"}})),a}catch(a){return console.error("Error fetching current user:",a),null}}(0,a.i(13095).ensureServerEntryExports)([d]),(0,b.registerServerReference)(d,"00c5ec6a839333a2e817476cb0fa4602de37ccb213",null),a.s(["getCurrentUser",()=>d])},31726,a=>{"use strict";var b=a.i(37936),c=a.i(66518);async function d(a){try{if(!a){let a=await c.prisma.chatSession.findFirst({where:{workspaceId:null}});if(a)return a;return await c.prisma.chatSession.create({data:{}})}let b=await c.prisma.chatSession.findFirst({where:{workspaceId:a}});return b||(b=await c.prisma.chatSession.create({data:{workspaceId:a}})),b}catch(a){throw console.error("Error getting/creating chat session:",a),Error("No se pudo obtener la sesión de chat")}}async function e(a){try{return await c.prisma.chatMessage.findMany({where:{chatSessionId:a},orderBy:{createdAt:"asc"}})}catch(a){return console.error("Error fetching chat history:",a),[]}}async function f(a,b,d){try{return await c.prisma.chatMessage.create({data:{chatSessionId:a,role:b,text:d}})}catch(a){throw console.error("Error saving chat message:",a),Error("No se pudo guardar el mensaje")}}async function g(a){try{return await c.prisma.chatMessage.deleteMany({where:{chatSessionId:a}}),!0}catch(a){throw console.error("Error clearing chat history:",a),Error("No se pudo limpiar el historial")}}(0,a.i(13095).ensureServerEntryExports)([d,e,f,g]),(0,b.registerServerReference)(d,"40f7eb3235ad61d3222f3a251f463480ee8dcc84e3",null),(0,b.registerServerReference)(e,"40723cc56224262f28b87c25b6b494ea62369a007e",null),(0,b.registerServerReference)(f,"70c1e2bf18f4cf7756e213c8903f9022c6990c9745",null),(0,b.registerServerReference)(g,"40897aa8b4c0ae0f8aadab3d0c9582d0f8de82be30",null),a.s(["clearChatHistory",()=>g,"getChatHistory",()=>e,"getOrCreateChatSession",()=>d])},64814,a=>{"use strict";a.s(["default",()=>b]);let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call the default export of [project]/src/components/layout/Header.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/layout/Header.tsx <module evaluation>","default")},60079,a=>{"use strict";a.s(["default",()=>b]);let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call the default export of [project]/src/components/layout/Header.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/layout/Header.tsx","default")},78147,a=>{"use strict";a.i(64814);var b=a.i(60079);a.n(b)},24855,a=>{"use strict";var b=a.i(37936),c=a.i(66518),d=a.i(18558);async function e(a){try{return(await c.prisma.taskWorkspace.findMany({where:{workspaceId:a},include:{task:{include:{assignees:{include:{user:!0}},subtasks:{orderBy:{createdAt:"asc"}}}}},orderBy:{task:{createdAt:"desc"}}})).map(a=>a.task)}catch(a){return console.error("Error fetching tasks by workspace:",a),[]}}async function f(a){try{let b=await c.prisma.task.create({data:{title:a.title,status:a.status||"TODO",priority:a.priority||"MEDIUM",startDate:a.startDate,dueDate:a.dueDate,workspaces:{create:{workspaceId:a.workspaceId}}}});return(0,d.revalidatePath)(`/workspace/${a.workspaceId}`),await c.prisma.task.findUnique({where:{id:b.id},include:{assignees:{include:{user:!0}},subtasks:{orderBy:{createdAt:"asc"}}}})}catch(a){throw console.error("Error creating task:",a),Error("No se pudo crear la tarea")}}async function g(a,b,e){try{let f={...e},g=f.assigneeId;delete f.assigneeId,delete f.subtasks,void 0!==g&&(await c.prisma.taskAssignee.deleteMany({where:{taskId:a}}),null!==g&&(f.assignees={create:{userId:g}}));let h=await c.prisma.task.update({where:{id:a},data:f,include:{assignees:{include:{user:!0}},subtasks:{orderBy:{createdAt:"asc"}}}});return(0,d.revalidatePath)(`/workspace/${b}`),h}catch(a){throw console.error("Error updating task:",a),Error("No se pudo actualizar la tarea")}}async function h(a,b){try{return await c.prisma.task.delete({where:{id:a}}),(0,d.revalidatePath)(`/workspace/${b}`),{success:!0}}catch(a){throw console.error("Error deleting task:",a),Error("No se pudo eliminar la tarea")}}async function i(a){try{return await c.prisma.task.findMany({where:{assignees:{some:{userId:a}}},include:{assignees:{include:{user:!0}},subtasks:{orderBy:{createdAt:"asc"}}},orderBy:{createdAt:"desc"}})}catch(a){return console.error("Error fetching personal tasks:",a),[]}}async function j(a,b){try{let e=await c.prisma.task.create({data:{title:b.title,status:b.status||"TODO",priority:b.priority||"MEDIUM",startDate:b.startDate,dueDate:b.dueDate,assignees:{create:{userId:a}}},include:{assignees:{include:{user:!0}},subtasks:{orderBy:{createdAt:"asc"}}}});return(0,d.revalidatePath)("/my-tasks"),e}catch(a){throw console.error("Error creating personal task:",a),Error("No se pudo crear la tarea personal")}}async function k(a,b){try{let e={...b};delete e.subtasks;let f=await c.prisma.task.update({where:{id:a},data:e,include:{assignees:{include:{user:!0}},subtasks:{orderBy:{createdAt:"asc"}}}});return(0,d.revalidatePath)("/my-tasks"),f}catch(a){throw console.error("Error updating personal task:",a),Error("No se pudo actualizar la tarea personal")}}async function l(a){try{return await c.prisma.task.delete({where:{id:a}}),(0,d.revalidatePath)("/my-tasks"),{success:!0}}catch(a){throw console.error("Error deleting personal task:",a),Error("No se pudo eliminar la tarea personal")}}(0,a.i(13095).ensureServerEntryExports)([e,f,g,h,i,j,k,l]),(0,b.registerServerReference)(e,"4019160971a8fa0681d4784ca509d16072ae1829a0",null),(0,b.registerServerReference)(f,"407c884cd690c207052838e8d0242021627178afb5",null),(0,b.registerServerReference)(g,"70142ce74a16d569fe4b550b1eb58754160cf80109",null),(0,b.registerServerReference)(h,"60d6016544db5b9c94c5eecf4c552dbe5884ae49fd",null),(0,b.registerServerReference)(i,"400faa740f4acd7e632ba1bfce7f7facd71ad4b584",null),(0,b.registerServerReference)(j,"603bc7d3f39f3681a0af4d69828f12f2ca9d51c31f",null),(0,b.registerServerReference)(k,"60e9e067aa6023b0dcc3b96ca0846570695dc12149",null),(0,b.registerServerReference)(l,"405b131769c067e782e027890a39b6ceb80a4e74be",null),a.s(["createPersonalTask",()=>j,"createTask",()=>f,"deletePersonalTask",()=>l,"deleteTask",()=>h,"getPersonalTasks",()=>i,"getTasksByWorkspace",()=>e,"updatePersonalTask",()=>k,"updateTask",()=>g])},50901,a=>{"use strict";a.s(["default",()=>b]);let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call the default export of [project]/src/components/board/TaskManager.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/board/TaskManager.tsx <module evaluation>","default")},11828,a=>{"use strict";a.s(["default",()=>b]);let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call the default export of [project]/src/components/board/TaskManager.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/board/TaskManager.tsx","default")},42809,a=>{"use strict";a.i(50901);var b=a.i(11828);a.n(b)},29216,3995,a=>{"use strict";var b=a.i(37936),c=a.i(66518),d=a.i(18558),e=a.i(13095);async function f(a,b,e){try{let f=await c.prisma.subtask.create({data:{taskId:a,title:e,isCompleted:!1}});return(0,d.revalidatePath)(`/workspace/${b}`),f}catch(a){throw console.error("Error creating subtask:",a),Error("No se pudo crear la subtarea")}}async function g(a,b,e){try{let f=await c.prisma.subtask.update({where:{id:a},data:{isCompleted:e}});return(0,d.revalidatePath)(`/workspace/${b}`),f}catch(a){throw console.error("Error toggling subtask:",a),Error("No se pudo actualizar la subtarea")}}async function h(a,b,e){try{let f=await c.prisma.subtask.update({where:{id:a},data:{title:e}});return(0,d.revalidatePath)(`/workspace/${b}`),f}catch(a){throw console.error("Error updating subtask title:",a),Error("No se pudo actualizar el título de la subtarea")}}async function i(a,b){try{return await c.prisma.subtask.delete({where:{id:a}}),(0,d.revalidatePath)(`/workspace/${b}`),{success:!0}}catch(a){throw console.error("Error deleting subtask:",a),Error("No se pudo eliminar la subtarea")}}(0,e.ensureServerEntryExports)([f,g,h,i]),(0,b.registerServerReference)(f,"70500d97c2d7f0e7b72e77e2e1e7b5b25f14d7a318",null),(0,b.registerServerReference)(g,"703b43e061b6b2c4c223531da33bdd9e3a78bf8d78",null),(0,b.registerServerReference)(h,"70e52966c822f12fd1da39158aa024ac88fdf29978",null),(0,b.registerServerReference)(i,"60ea9fefb3f836063012818b5b33c92d9d5d1f057b",null),a.s(["createSubtask",()=>f,"deleteSubtask",()=>i,"toggleSubtaskCompletion",()=>g,"updateSubtaskTitle",()=>h],29216);var j=a.i(25041);async function k(a,b,d,e){try{let f=await (0,j.getCurrentUser)();if(!f)return{success:!1,error:"Unauthorized"};if(!b||""===b.trim())return{success:!1,error:"Se requieren ingresar al menos los logros."};let g=await c.prisma.checkIn.create({data:{accomplishments:b,blockers:d,morale:e,task:{connect:{id:a}},user:{connect:{id:f.id}}}});return{success:!0,data:g}}catch(a){return console.error("Error creating checkin:",a),{success:!1,error:a.message}}}async function l(a){try{if(!await (0,j.getCurrentUser)())return{success:!1,error:"Unauthorized"};let b=await c.prisma.checkIn.findMany({where:{taskId:a},include:{user:{select:{name:!0,email:!0}}},orderBy:{createdAt:"desc"},take:30});return{success:!0,data:b}}catch(a){return console.error("Error in getWorkspaceCheckIns:",a),{success:!1,error:a.message}}}(0,e.ensureServerEntryExports)([k,l]),(0,b.registerServerReference)(k,"783c79de5d0e9727cc38378205233af563f8f2ffd0",null),(0,b.registerServerReference)(l,"40edc25db179ad1a463eb0478d28429bca3250d665",null),a.s(["createCheckIn",()=>k,"getTaskCheckIns",()=>l],3995)},16181,a=>{"use strict";var b=a.i(39615),c=a.i(44306),d=a.i(31726),e=a.i(25041),f=a.i(88438),g=a.i(29216),h=a.i(3995),i=a.i(24855),j=a.i(7878);a.s([],15403),a.i(15403),a.s(["007df99478876faf1be0a9287652a497a9c330c5be",()=>b.getWorkspaces,"00a1d7a0c268e3718c6e94a56051817fab2f3f3240",()=>j.getUserRoutines,"00c5ec6a839333a2e817476cb0fa4602de37ccb213",()=>e.getCurrentUser,"400faa740f4acd7e632ba1bfce7f7facd71ad4b584",()=>i.getPersonalTasks,"4019160971a8fa0681d4784ca509d16072ae1829a0",()=>i.getTasksByWorkspace,"4057b6b122a1d227d93b4421561d1064d3daa794c6",()=>b.createWorkspace,"405b131769c067e782e027890a39b6ceb80a4e74be",()=>i.deletePersonalTask,"405e0d830509c8d72682aaa3f5bf299d1a2d884845",()=>c.savePushSubscription,"40723cc56224262f28b87c25b6b494ea62369a007e",()=>d.getChatHistory,"4079e265df772b313e9fb1f8ed53ccc6c2f1755d2f",()=>b.deleteWorkspace,"407c884cd690c207052838e8d0242021627178afb5",()=>i.createTask,"40808c801d7bd5372c066b27d49f0dbf04a5e56f80",()=>b.getWorkspaceMembers,"40897aa8b4c0ae0f8aadab3d0c9582d0f8de82be30",()=>d.clearChatHistory,"40b1126e496512e6498de31856109ea07fa341f520",()=>j.deleteRoutine,"40d388ecb447107cdd327dfa2b146d05cb8e04fce3",()=>f.$$RSC_SERVER_ACTION_2,"40edc25db179ad1a463eb0478d28429bca3250d665",()=>h.getTaskCheckIns,"40f7eb3235ad61d3222f3a251f463480ee8dcc84e3",()=>d.getOrCreateChatSession,"60205a99909b91ce00704033f37922d34d3c524e81",()=>j.resolveRoutineWithEvidence,"603bc7d3f39f3681a0af4d69828f12f2ca9d51c31f",()=>i.createPersonalTask,"6096ab7f90edfbad42d79925c9b912f741ade35bd0",()=>b.inviteUserToWorkspace,"60aaccbf2e1157c6c321521724da79b6083afd2a63",()=>b.updateWorkspace,"60d6016544db5b9c94c5eecf4c552dbe5884ae49fd",()=>i.deleteTask,"60e9e067aa6023b0dcc3b96ca0846570695dc12149",()=>i.updatePersonalTask,"60ea9fefb3f836063012818b5b33c92d9d5d1f057b",()=>g.deleteSubtask,"60f4537955a6aabab3c5405447945edbbf35986d67",()=>f.$$RSC_SERVER_ACTION_1,"7004c57e3771e3957e4d2263febfea3bf1a9290f75",()=>j.createRoutine,"70142ce74a16d569fe4b550b1eb58754160cf80109",()=>i.updateTask,"703b43e061b6b2c4c223531da33bdd9e3a78bf8d78",()=>g.toggleSubtaskCompletion,"70500d97c2d7f0e7b72e77e2e1e7b5b25f14d7a318",()=>g.createSubtask,"70d055ddd081d7ecd781452dedf9364f8593c9db75",()=>f.$$RSC_SERVER_ACTION_0,"70e52966c822f12fd1da39158aa024ac88fdf29978",()=>g.updateSubtaskTitle,"783c79de5d0e9727cc38378205233af563f8f2ffd0",()=>h.createCheckIn],16181)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__d67870f8._.js.map