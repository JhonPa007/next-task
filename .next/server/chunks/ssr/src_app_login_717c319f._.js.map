{"version":3,"sources":["turbopack:///[project]/src/app/login/auth.module.css [app-ssr] (css module)","../../../../src/app/login/page.tsx"],"sourcesContent":["__turbopack_context__.v({\n  \"card\": \"auth-module__ozYyRa__card\",\n  \"container\": \"auth-module__ozYyRa__container\",\n  \"error\": \"auth-module__ozYyRa__error\",\n  \"footer\": \"auth-module__ozYyRa__footer\",\n  \"form\": \"auth-module__ozYyRa__form\",\n  \"input\": \"auth-module__ozYyRa__input\",\n  \"inputGroup\": \"auth-module__ozYyRa__inputGroup\",\n  \"label\": \"auth-module__ozYyRa__label\",\n  \"link\": \"auth-module__ozYyRa__link\",\n  \"submitBtn\": \"auth-module__ozYyRa__submitBtn\",\n  \"subtitle\": \"auth-module__ozYyRa__subtitle\",\n  \"title\": \"auth-module__ozYyRa__title\",\n});\n","'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { signIn } from 'next-auth/react';\r\nimport { useRouter } from 'next/navigation';\r\nimport Link from 'next/link';\r\nimport styles from './auth.module.css';\r\n\r\nexport default function LoginPage() {\r\n    const router = useRouter();\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [error, setError] = useState('');\r\n    const [isLoading, setIsLoading] = useState(false);\r\n\r\n    const handleSubmit = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        setError('');\r\n        setIsLoading(true);\r\n\r\n        try {\r\n            const res = await signIn('credentials', {\r\n                redirect: false,\r\n                email,\r\n                password,\r\n            });\r\n\r\n            if (res?.error) {\r\n                setError(res.error);\r\n                setIsLoading(false);\r\n            } else {\r\n                // Hard redirect para forzar recarga completa y re-evaluación del Middleware\r\n                window.location.href = '/';\r\n            }\r\n        } catch (err: any) {\r\n            setError('Error de red al intentar iniciar sesión.');\r\n            setIsLoading(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <main className={styles.container}>\r\n            <div className={styles.card}>\r\n                <h1 className={styles.title}>NextTask</h1>\r\n                <p className={styles.subtitle}>Inicia sesión para continuar a tu espacio de trabajo.</p>\r\n\r\n                {error && <div className={styles.error}>{error}</div>}\r\n\r\n                <form onSubmit={handleSubmit} className={styles.form}>\r\n                    <div className={styles.inputGroup}>\r\n                        <label className={styles.label} htmlFor=\"email\">Correo Electrónico</label>\r\n                        <input\r\n                            id=\"email\"\r\n                            type=\"email\"\r\n                            className={styles.input}\r\n                            value={email}\r\n                            onChange={(e) => setEmail(e.target.value)}\r\n                            placeholder=\"nombre@empresa.com\"\r\n                            required\r\n                        />\r\n                    </div>\r\n\r\n                    <div className={styles.inputGroup}>\r\n                        <label className={styles.label} htmlFor=\"password\">Contraseña</label>\r\n                        <input\r\n                            id=\"password\"\r\n                            type=\"password\"\r\n                            className={styles.input}\r\n                            value={password}\r\n                            onChange={(e) => setPassword(e.target.value)}\r\n                            placeholder=\"••••••••\"\r\n                            required\r\n                        />\r\n                    </div>\r\n\r\n                    <button type=\"submit\" className={styles.submitBtn} disabled={isLoading}>\r\n                        {isLoading ? 'Ingresando...' : 'Iniciar Sesión'}\r\n                    </button>\r\n                </form>\r\n\r\n                <div className={styles.footer}>\r\n                    ¿No tienes una cuenta? <Link href=\"/register\" className={styles.link}>Regístrate gratis</Link>\r\n                </div>\r\n            </div>\r\n        </main>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}